
/*

  SmartClient Ajax RIA system
  Version SC_SNAPSHOT-2010-08-03/EVAL Development Only (2010-08-03)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF
     ISOMORPHIC SOFTWARE LICENSE TERMS. If you have received this file
     without an accompanying Isomorphic Software license file, please
     contact licensing@isomorphic.com for details. Unauthorized copying and
     use of this software is a violation of international copyright law.

  DEVELOPMENT ONLY - DO NOT DEPLOY
     This software is provided for evaluation, training, and development
     purposes only. It may include supplementary components that are not
     licensed for deployment. The separate DEPLOY package for this release
     contains SmartClient components that are licensed for deployment.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. You are expressly prohibited
     from attempting to reverse engineer this software or modify this
     software for human readability.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

if(window.isc&&window.isc.module_Core&&!window.isc.module_VisualBuilder){isc.module_VisualBuilder=1;isc._moduleStart=isc._VisualBuilder_start=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc._moduleEnd&&(!isc.Log||(isc.Log && isc.Log.logIsDebugEnabled('loadTime')))){isc._pTM={ message:'VisualBuilder load/parse time: ' + (isc._moduleStart-isc._moduleEnd) + 'ms', category:'loadTime'};
if(isc.Log && isc.Log.logDebug)isc.Log.logDebug(isc._pTM.message,'loadTime')
else if(isc._preLog)isc._preLog[isc._preLog.length]=isc._pTM
else isc._preLog=[isc._pTM]}isc.definingFramework=true;isc.ClassFactory.defineClass("VisualBuilder","VLayout");isc.A=isc.VisualBuilder;isc.A.titleEditEvent="doubleClick";isc.A=isc.VisualBuilder.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.vertical=true;isc.A.sControlIsomorphicDir="http://www.isomorphic.com/isomorphic/";isc.A.sControlSkin="SmartClient";isc.A.workspacePath="[VBWORKSPACE]";isc.A.workspaceURL="workspace/";isc.A.basePathRelWorkspace="..";isc.A.webRootRelWorkspace="../../..";isc.A.helpPaneProperties={headerTitle:"About Visual Builder",contentsURL:"visualBuilderHelp.html"};isc.A.canEditExpressions=true;isc.A.typeCount={};isc.A.dirty=false;isc.A.workspaceDefaults={_constructor:"TLayout",vertical:false,autoDraw:false,backgroundColor:"black"};isc.A.leftStackDefaults={_constructor:"TSectionStack",autoDraw:false,width:280,showResizeBar:true,visibilityMode:"multiple"};isc.A.middleStackDefaults={_constructor:"TSectionStack",autoDraw:false,showResizeBar:true,resizeBarTarget:"next",visibilityMode:"multiple",styleName:"pageBackground"};isc.A.modeSwitcherDefaults={_constructor:"TDynamicForm",autoDraw:false,autoParent:"middleStack",fields:[{name:"switcher",showTitle:false,title:"Component mode",valueMap:["Live","Edit"],vertical:false,editorType:"TRadioGroupItem",wrapTitle:false,changed:function(_1,_2,_3){var _4=_3=="Edit";var _5=_1.creator.projectComponents.data;for(var i=0;i<_5.getLength();i++){var _7=_5.get(i);var _8=_7.liveObject;if(_8.setEditMode){_8.setEditMode(_4,_1.creator.projectComponents,_7)}else{_8.editingOn=_4}}
_1.creator.editingOn=_4;if(isc.SelectionOutline.getSelectedObject()){if(!_4){isc.SelectionOutline.hideOutline();isc.EditContext.$70r.hide()}else{isc.EditContext.showSelectedObjectDragHandle();isc.SelectionOutline.showOutline()}}}}]};isc.A.rightStackDefaults={_constructor:"TSectionStack",autoDraw:false,width:200,visibilityMode:"multiple"};isc.A.canvasItemWrapperConstructor="CanvasItem";isc.A.canvasItemWrapperDefaults={showTitle:false,colSpan:"*",width:"*"};isc.A.simpleTypeNodeConstructor="FormItem";isc.A.simpleTypeNodeDefaults={isGroup:true,cellPadding:5,showComplexFields:false,doNotUseDefaultBinding:true};isc.A.complexTypeNodeConstructor="DynamicForm";isc.A.complexTypeNodeDefaults={isGroup:true,cellPadding:5,showComplexFields:false,doNotUseDefaultBinding:true};isc.A.repeatingComplexTypeNodeDefaults={autoFitData:"vertical",leaveScrollbarGap:false};isc.A.paletteNodeDSDefaults={_constructor:"DataSource",ID:"paletteNode",recordXPath:"/PaletteNodes/PaletteNode",fields:{name:{name:"name",type:"text",length:8,required:true},title:{name:"title",type:"text",title:"Title",length:128,required:true},className:{name:"className",type:"text",title:"Class Name",length:128,required:true},icon:{name:"icon",type:"image",title:"Icon Filename",length:128},iconWidth:{name:"iconWidth",type:"number",title:"Icon Width"},iconHeight:{name:"iconHeight",type:"number",title:"Icon Height"},iconSize:{name:"iconSize",type:"number",title:"Icon Size"},showDropIcon:{name:"showDropIcon",type:"boolean",title:"Show Drop Icon"},defaults:{name:"defaults",type:"Canvas",propertiesOnly:true},children:{name:"children",type:"paletteNode",multiple:true}}};isc.A.libraryComponentsDefaults={_constructor:"TTreePalette",defaultEditContext:"projectComponents",autoShowParents:true,autoDraw:false,cellHeight:22,showRoot:false,showHeader:false,selectionType:Selection.SINGLE,treeFieldTitle:"Form Items",canDragRecordsOut:true,canAcceptDroppedRecords:false,dragDataAction:TreeViewer.COPY,iconSize:16,folderOpenImage:"cubes_blue.gif",folderClosedImage:"cubes_blue.gif",folderDropImage:"cubes_green.gif",fileImage:"cube_blue.gif"};isc.A.dataSourceListDefaults={_constructor:"TListPalette",showHeaderMenuButton:false,autoDraw:false,height:"40%",selectionType:"single",canDragRecordsOut:true,editSelectedDataSource:function(){var _1=this.getSelectedRecord();if(_1)isc.DS.get(_1.ID,this.creator.getID()+".showDSEditor(ds)")},doubleClick:function(){this.editSelectedDataSource()},selectionChanged:function(){this.creator.dsEditButton.setDisabled(this.getSelectedRecord()==null)},fields:[{name:"ID",width:"*"},{name:"type",title:"Type",width:65},{name:"download",showTitle:false,width:22}],formatCellValue:function(_1,_2,_3,_4){var _5=this.getField(_4);if(_5.name=="download"){return this.imgHTML("[SKINIMG]/actions/download.png",null,null,null,null,this.widgetImgDir)}else return _1},cellClick:function(_1,_2,_3){var _4=this.getField(_3);if(_4.name=="download"){isc.DS.get(_1.ID,this.creator.getID()+".downloadDataSource(ds)")}else return this.Super("cellClick",arguments)}};isc.A.dataSourceListToolbarDefaults={_constructor:"TLayout",vertical:false,autoDraw:true,membersMargin:10,height:20};isc.A.dsNewButtonDefaults={_constructor:"TButton",autoDraw:false,title:"New...",width:70,click:"this.creator.showDSWizard()",autoParent:"dataSourceListToolbar"};isc.A.dsEditButtonDefaults={_constructor:"TButton",autoDraw:false,disabled:true,title:"Edit...",width:70,click:"this.creator.dataSourceList.editSelectedDataSource()",autoParent:"dataSourceListToolbar"};isc.A.projectComponentsMenuDefaults={_constructor:"Menu",autoDraw:false,showIcon:false,enableIf:"var selection = target ? target.getSelection() : null, node = selection ? selection[0] : null",data:[{title:"Remove",enableIf:"node != null",click:function(_1){var _2=_1.getSelection();for(var i=0;i<_2.length;i++){var _4=_2[i];_1.destroyComponent(_4)}
_1.data.removeList(_2)}},{title:"Edit",enableIf:"node != null",click:function(_1,_2,_3){var _4=_1.getSelection()[0];_3.creator.editComponent(_4,_3.creator.projectComponents.getLiveObject(_4))}}]};isc.A.projectComponentsDefaults={_constructor:"TEditTree",showHeaderMenuButton:false,autoDraw:false,canSort:false,leaveScrollbarGap:false,nodeClick:function(_1,_2){this.hiliteSelected();this.creator.editComponent(_2,this.getLiveObject(_2))},hiliteSelected:function(){var _1=this.getSelectedRecord(),_2=_1?_1.liveObject:null;if((isc.isA.Canvas(_2)||isc.isA.FormItem(_2))&&_2.isDrawn()&&_2.isVisible()){isc.EditContext.selectCanvasOrFormItem(_2)}},autoShowParents:true,addComponent:function(_1,_2,_3,_4,_5){_1=this.Super("addComponent",arguments);if(!_1)return;if(!_1.dropped||(_1.loadData!=null&&!_1.isLoaded))return _1;var _6=isc.ClassFactory.getClass(_1.type);if(_6!=null&&_6.isA(isc.DataSource)){var _7=_1.liveObject,_8=_7.serverType||_7.type||_7.dataSourceType,_9=_2,_10=_2.liveObject;if((isc.isA.ListGrid(_10)||isc.isA.TileGrid(_10))&&(_8=="sql"||_8=="hibernate"||_7.dataURL!=null||_7.clientOnly||_7.serviceNamespace!=null)&&!_7.noAutoFetch&&_10.autoFetchData!=false)
{_9.initData.autoFetchData=true;if(isc.SForce&&isc.isA.SFDataSource(_7)&&!isc.SForce.sessionId){var _11=this;isc.SForce.ensureLoggedIn(function(){_10.fetchData()},true)}else{_10.fetchData()}}}
var _12=this.getLiveObject(_1);if(!_12.getEditableProperties)return;if(_12.setEditableProperties){_12.setEditableProperties({});if(_12.markForRedraw)_12.markForRedraw();else if(_12.redraw)_12.redraw()}
this.selection.delayCall("selectSingle",[_1]);this.delayCall("hiliteSelected",[true]);this.nodeClick(this,_1);return _1},removeComponent:function(_1,_2,_3,_4,_5){this.Super("removeComponent",[_1,_2,_3,_4,_5],arguments);this.creator.componentRemoved(_1)},removeAll:function(){this.creator.clearComponent();return this.Super("removeAll",arguments)},destroyAll:function(){this.creator.clearComponent();return this.Super("destroyAll",arguments)},folderOpenImage:"cubes_blue.gif",folderClosedImage:"cubes_blue.gif",folderDropImage:"cubes_green.gif",fileImage:"cube_blue.gif",hasComponents:function(){return this.data.getRoot().children&&this.data.getRoot().children.length>0},checkDiscardProject:function(_1,_2,_3){var _4=this;isc.confirm("Discard current project?",function(_5){if(_5){_4.destroyAll();isc.Class.fireCallback(_1,_2,_3)}})},loadView:function(_1,_2){var _3=this,_4=_3.creator;if(!_2&&this.hasComponents())
{this.checkDiscardProject(this.getID()+".loadView(screenName,confirmed)","screenName,confirmed",[_1,true]);return}
this.currentScreen=_1;var _5=_4.workspacePath+"/"+_1+".xml";this.loadNodeTreeFromFile(_5,{target:this,methodName:"addNodeTree"})},loadViewFromFile:function(_1){this.currentScreen=_1;this.loadNodeTreeFromFile(_1,{target:this,methodName:"addNodeTree"})},loadViewFromURL:function(_1){var _2=this,_3=_2.creator;this.currentScreen=_1;isc.RPCManager.send(null,function(_4){_2.loadNodeTree(_4,{target:_2,methodName:"addNodeTree"})},{actionURL:_1,useSimpleHttp:true,dataProtocol:"postMessage"})},loadViewFromXML:function(_1,_2){this.currentScreen=_2;this.loadNodeTreeFromXML(_1,{target:this,methodName:"addNodeTree"})},loadViewFromJS:function(_1,_2){this.currentScreen=_2;this.loadNodeTreeFromJS(_1,{target:this,methodName:"addNodeTree"})},loadNodeTreeFromFile:function(_1,_2){var _3=this,_4=_3.creator,_5=_2;_4.currentRepo.loadObject({criteria:{path:_1}},function(_6){_3.loadNodeTreeFromJS(_6,_5)})},loadNodeTreeFromXML:function(_1,_2){var _3=this,_4=_2;isc.DMI.callBuiltin({methodName:"xmlToJS",arguments:[_1],callback:function(_5){_3.loadNodeTree(_5.data,_4)}})},loadNodeTreeFromJS:function(_1,_2){this.loadNodeTree(_1,_2)},loadNodeTree:function(_1,_2){this.logDebug("fileContents: "+_1,"loadProject");this.nodeTreeLoadedCallback=_2;isc.captureInitData=true;isc.Class.globalEvalWithCapture(_1,{target:this,methodName:"nodeTreeLoaded"},null,false)},nodeTreeLoaded:function(_1,_2){this.getCapturedComponents(_1,_2);if(this.nodeTreeLoadedCallback){isc.Class.fireCallback(this.nodeTreeLoadedCallback,["paletteNodes"],[this.capturedComponents],this);this.nodeTreeLoadedCallback=null}
return this.capturedComponents},viewLoaded:function(_1){this.logDebug("fileContents: "+_1,"loadProject");isc.captureInitData=true;isc.Class.globalEvalWithCapture(_1,{target:this,methodName:"addViewToTree"},null,false)},addViewToTree:function(_1,_2){this.getCapturedComponents(_1,_2);this.addNodeTree(this.capturedComponents);this.creator.setIsDirty(false)},getCapturedComponents:function(_1,_2){isc.captureInitData=null;if(_2){isc.warn("The following error occurred during loading of your view<br><br>: "+_2+".<br><br>  The portion of the view that loaded succesfully will be shown.")}
var _3=this.capturedComponents=isc.capturedComponents;isc.capturedComponents=null;var _4=(_3?_3.getProperty("defaults").getProperty("ID"):null);this.logWarn("capturedComponents are: "+_4);var _5;for(var i=0;i<_4.length;i++)window[_4[i]]=_5},addNodeTree:function(_1){this.componentsToCreate=[];this.addComponentCalls=[];this.requiredDataSources=[];for(var i=0;i<_1.length;i++){this.addChildComponent(null,_1[i])}
for(var i=0;i<_1.length;i++){if(!_1[i].hasParent){this.addChildComponent(this.data.getRoot(),_1[i])}}
var _3,_4;for(var i=0;i<this.capturedComponents.length;i++){_3=this.capturedComponents[i];_3.component=this.palette.makeNewComponent(_3)}
for(var i=0;i<this.componentsToCreate.length;i++){_3=this.componentsToCreate[i];if(!_3.component){_3.component=this.palette.makeNewComponent(_3)}}
var _5=-1,_6=this.addComponentCalls,_7=[];isc.$75u=true;while(_6.length>0&&_5!=_6.length){_5=_6.length;var _8=_6.duplicate();for(var i=0;i<_8.length;i++){var _9=_8[i],_4=_9[1],_3=_9[0];if(_4.name=="/"){this.addComponent(_3.component,this.data.getRoot());_6.remove(_9);_7.add(_9)}else if(this.data.contains(_4.component)){var _10=_3.component;if(this.data.contains(_10)){_10=isc.addProperties({},_10)}
this.addComponent(_10,_4.component);_6.remove(_9);_7.add(_9)}}}
delete isc.$75u;if(this.logIsDebugEnabled("loadProject")){this.logDebug("addComponent() calls during project loading:","loadProject");for(var i=0;i<_7.length;i++){var _9=_7[i],_4=_9[1],_3=_9[0];this.logDebug("addComponent("+this.echoLeaf(_3)+","+this.echoLeaf(_4),"loadProject")}}
if(_6.length>0){this.logWarn("the following components could not be added to the project tree: "+isc.echoAll(_6.getProperty("0")))}},makeDSPaletteNode:function(_1,_2){var _3={ID:_1,className:"DataSource",type:_2||"DataSource",title:_1,icon:"DataSource.png",iconSize:16,loadData:function(_3,_4){isc.DS.get(_3.ID,function(_5){_3.liveObject=_5;_3.initData={_constructor:"DataSource",ID:_5.ID};isc.Class.fireCallback(_4,"",[_3])})}};return _3},palette:isc.HiddenPalette.create(),addChildComponent:function(_1,_2){var _3=_2.className;var _4=this.logIsInfoEnabled("loadProject"),_5=this.logIsDebugEnabled("loadProject");if(_4){this.logInfo("inspecting defaults of component: "+this.echoLeaf(_2),"loadProject")}
var _6=_2.defaults,_7=this,_8=_7.creator;var _9=[],_10=[],_11=isc.DS.get(_3);for(var _12 in _6){var _13=_6[_12];if(!isc.isAn.Array(_13)){_10[0]=_13;_13=_10}else if(_5){this.logDebug("checking Array property: "+_12+", value: "+this.echoLeaf(_13)+(_16?" with schema: "+_16:""),"loadProject")}
var _14=_11?_11.getField(_12):null,_15=_14?_14.type:null,_16=isc.DS.get(_15),_17=false;for(var i=0;i<_13.length;i++){var _19=_13[i];if(_5){this.logDebug("checking property: "+_12+", value: "+this.echoLeaf(_19),"loadProject")}
if(this.capturedComponents.contains(_19)){if(_4){this.logInfo("found capturedComponent: "+this.echoLeaf(_19)+" under property: "+_12+" of component: "+this.echoLeaf(_2),"loadProject")}
_9.add(_19);_17=true;continue}
if(_19==null){this.logInfo("null property: "+_12+" on component: "+this.echoLeaf(_2))}
var _20=(_19?_19._constructor:null)||_15,_21=isc.ClassFactory.getClass(_20);if(_16&&((_21&&_21.isA(isc.Canvas))||(_21&&_21.isA(isc.DataSource))||(_21&&_21.isA(isc.FormItem))||(this.creator.libraryComponents&&this.creator.libraryComponents.data.find("className",_20)!=null)))
{if(_4){this.logInfo("found palettized component: "+this.echoLeaf(_19)+" of type: "+_20+" under property: "+_12+" of component: "+this.echoLeaf(_2),"loadProject")}
if(isc.isA.String(_19)){var _22=this.capturedComponents.find("ID",_19);if(_22==null){if(isc.DataSource.isA(_15)&&_8.dataSourceList){var _23=_8.dataSourceList.data.find("ID",_19);if(_23){_22=this.makeDSPaletteNode(_19)}}
if(_22==null)continue}
_9.add(_22)}else{var _24=_19;_9.add({ID:_24.ID,name:_24.name,className:_20,defaults:_24})}
_17=true}}
if(_17)delete _6[_12]}
var _25=_8.libraryComponents?_8.libraryComponents.data.find("className",_3):null||_8.dataSourceList?_8.dataSourceList.data.find("className",_3):null;if(_25){_2.icon=_2.icon||_25.icon;_2.iconSize=_2.iconSize||_25.iconSize;_2.showDropIcon=_2.showDropIcon||_25.showDropIcon}
this.componentsToCreate.add(_2);if(_1!=null){_2.hasParent=true;this.addComponentCalls.add([_2,_1])}
if(_9.length>0){for(var i=0;i<_9.length;i++){this.addChildComponent(_2,_9[i])}}}};isc.A.codePreviewDefaults={_constructor:"DynamicForm",autoDraw:false,overflow:"auto",browserSpellCheck:false,items:[{name:"codeField",editorType:"TTextAreaItem",showTitle:false,colSpan:"*",width:"*",height:"*"}],saveCode:function(_1,_2){this.creator.updateSource(true);var _3=this.getValue("codeField");if(!_3)return;this.creator.saveSourceToRepo(null,null,_2)},saveToSalesForce:function(){if(!this.$48y){this.$48y=true;var _1=this;isc.say("This feature will save your application to your SalesForce account as an 'SControl'"+", which can be shown in a Custom Tab via the customization interfaces within SalesForce."+"<P>In order to be successfully deployed to SalesForce, an application must consist "+" strictly of SalesForce DataSources, 'clientOnly' DataSources and XJSONDataSources."+"<P>The deployed application does not require Java or other external server functionality, "+"instead accessing SalesForce APIs via SOAP, and loading the SmartClient framework itself "+"as static web assets (from SmartClient.com by default - see the "+"visualBuilder/index.jsp 'builderConfig' block to customize).",function(){_1.saveSControl()})}else{this.saveSControl()}},saveSControl:function(_1){if(!_1){var _2=this;isc.SForce.ensureLoggedIn(function(){_2.saveSControl(true)},true);return}
var _3=this.builder.projectComponents.serializeComponents(true);var _4=this.creator;isc.xml.toJSCode(_3,function(_6,_7){isc.askForValue("Name your SControl :",function(_8){if(_8==null)return;var _5=isc.WebService.get("urn:partner.soap.sforce.com");_5.controlIsomorphicDir=_4.sControlIsomorphicDir;_5.controlSkin=_4.sControlSkin;_5.deploySControl(_8,_7)},{defaultValue:"ISC"})})}};isc.A.jsCodePreviewDefaults={_constructor:"DynamicForm",autoDraw:false,overflow:"auto",browserSpellCheck:false,items:[{name:"codeField",editorType:"TTextAreaItem",showTitle:false,colSpan:"*",width:"*",height:"*"}],setContents:function(_1){this.setValue("codeField",_1)}};isc.A.codePaneDefaults={_constructor:"TTabSet",autoDraw:false,height:"35%",tabSelected:function(_1){this.creator.updateSource()}};isc.A.componentAttributeEditorDefaults={_constructor:"TComponentEditor",autoDraw:false,autoFocus:false,overflow:"auto",alwaysShowVScrollbar:true,showAttributes:true,showMethods:false,backgroundColor:"black",basicMode:true};isc.A.componentMethodEditorDefaults={_constructor:"TComponentEditor",sortFields:true,autoDraw:false,autoFocus:false,overflow:"auto",alwaysShowVScrollbar:true,showAttributes:false,showMethods:true,backgroundColor:"black",basicMode:true};isc.A.editorPaneDefaults={_constructor:"TTabSet",autoDraw:false,paneContainerProperties:{customEdges:["T"]},tabBarProperties:{baseLineCapSize:0},tabBarControls:[isc.Img.create({src:"[SKIN]/../../ToolSkin/images/actions/remove.png",autoDraw:false,width:16,height:16,layoutAlign:"center",cursor:"pointer",canHover:true,showHover:true,prompt:"Delete current component",click:function(){var _1=isc.SelectionOutline.getSelectedObject();if(_1&&_1.editContext){_1.editContext.destroyComponent(_1.editNode);isc.SelectionOutline.deselect();isc.EditContext.hideDragHandle()}}}),isc.LayoutSpacer.create({width:10}),"tabScroller","tabPicker"],tabDeselected:function(_1,_2,_3,_4){this.$710=_2.ID},tabSelected:function(_1,_2,_3,_4){if(!this.$710)return;var _5=this.creator.getCurrentComponent(),_6=_5[this.$710+"BasicMode"],_7=_5[_2.ID+"BasicMode"];if(_6!=_7){this.creator.editComponent(_5,_5.liveObject)}else{this.creator.applyBasicModeSettings()}},selectedEditorName:function(){var _1=this.getTabObject(this.selectedTab);if(_1&&_1.title)return _1.title.toLowerCase();return null},PROPERTIES:"properties",EVENTS:"events"};isc.A.applyButtonDefaults={_constructor:"TButton",resizeable:false,autoDraw:false,title:"Apply",click:"this.creator.saveComponentEditors();",disabled:true};isc.A.advancedButtonDefaults={_constructor:"TButton",resizeable:false,autoDraw:false,click:function(){var _1=this.creator.getCurrentComponent();this.creator.toggleBasicMode(_1);this.creator.editComponent(_1,_1.liveObject)},disabled:true};isc.A.helpPaneDefaults={_constructor:"THTMLFlow",padding:10,autoDraw:false,overflow:"auto"};isc.A.fileMenuButtonDefaults={_constructor:"TMenuButton",autoDraw:false,title:"File",height:16,layoutAlign:"center",extraSpace:4};isc.A.fileMenuDefaults={_constructor:"Menu",title:"File",width:100,data:[{title:"New",click:function(_1,_2,_3){if(_3.creator.projectComponents.data.getRoot().children.length>0){isc.confirm("Discard current project?",function(_4){if(_4)_3.creator.newProject()})}else{_3.creator.newProject()}}},{title:"Load View...",click:function(_1,_2,_3){_3.creator.showRepoLoadUI()}},{title:"Import..",click:function(_1,_2,_3){var _4="../../isomorphic/system/reference/SmartClient_Reference.html#group..visualBuilder";var _5=this;isc.ask("This feature allows you to import externally edited XML or JS code."+" The Visual Builder cannot fully capture all externally edited files."+" For more information, see the <a target=_blank href='"+_4+"'>Visual Builder Docs</a><br><br>Proceed with Import?",function(_6){if(_6){_5.showImportDialog(_3)}})},showImportDialog:function(_1){if(!this.$482){this.$482=isc.LoadFileDialog.create({actionStripControls:["spacer:10","pathLabel","previousFolderButton","spacer:10","upOneLevelButton","spacer:10","refreshButton","spacer:2"],directoryListingProperties:{canEdit:false},title:"Import File",initialDir:"/",rootDir:"/",loadFile:function(_3){if(_3.match(/\.(xml|js)$/i)==null){isc.say("Only JS or XML files may be imported (must end with .js or .xml");return}
var _2=this;isc.confirm("Discard current project?",function(_4){if(_4){_1.creator.projectComponents.removeAll();_2.importFile(_3)}})},importFile:function(_3){var _2=this;isc.DMI.callBuiltin({methodName:"loadFile",arguments:[this.currentDir+"/"+_3],callback:function(_4){if(_3.match(/\.xml$/i)!=null){isc.DMI.callBuiltin({methodName:"xmlToJS",arguments:_4.data,callback:function(_4){_2.fileLoaded(_4.data)}})}else{_2.fileLoaded(_4.data)}}})},fileLoaded:function(_3){_1.creator.projectComponents.loadNodeTreeFromJS(_3,{target:this,methodName:"addNodeTree"});this.hide()}})}else{this.$482.directoryListing.data.invalidateCache()}
this.$482.show()}},{title:"Save",enableIf:function(_1,_2,_3){var _4=_2.creator.getCurrentScreenName();return _4&&_4!=""},click:function(_1,_2,_3){_3.creator.saveSourceToRepo()}},{title:"Save As...",click:function(_1,_2,_3){_3.creator.saveSourceToRepo(null,{saveAs:true})}},{title:"Save To...",name:"saveTo",submenu:[],click:function(_1,_2,_3){_3.creator.saveSourceToRepo(_2.name)}},{title:"Save As SControl ...",click:function(_1,_2,_3){_3.creator.codePreview.saveToSalesForce()}},{title:"Test",click:function(_1,_2,_3){var _4="isc_test",_5=_3.creator;code=_5.getUpdatedSource(),context=isc.addProperties({},_3.creator.viewContext,{screenName:_4,fileName:_4,caller:_5});_5.currentRepo.showSaveUI(code,context,"window.open('"+_3.creator.workspaceURL+_4+".jsp')")}}]};isc.A.mainDefaults={_constructor:"TTabSet",width:"100%",height:"100%",backgroundColor:"black",tabSelected:function(_1,_2,_3,_4){if(_1==1){isc.SelectionOutline.hideOutline();isc.EditContext.hideDragHandle();this.creator.updateSource()}else if(_1==0){isc.SelectionOutline.showOutline();isc.EditContext.showDragHandle()}}};isc.A.operationsPaletteDefaults={_constructor:isc.TTreePalette,getIcon:function(_1){var _2=this.creator.getServiceElementIcon(_1);if(_2)return _2;return this.Super("getIcon",arguments)}};isc.A.schemaViewerDefaults={_constructor:isc.TTreeGrid,autoDraw:false,recordDoubleClick:"this.creator.operationSelected()",fields:[{name:"name",title:"Service/PortType/Operation",treeField:true},{name:"type",title:"Type"}],getIcon:function(_1){var _2=this.creator.getServiceElementIcon(_1);if(_2)return _2;return this.Super("getIcon",arguments)}};isc.A.schemaViewerSelectButtonDefaults={_constructor:isc.TButton,autoDraw:false,title:"Select",click:"this.creator.operationSelected()"};isc.A.commonEditorFunctions={itemChange:function(_1,_2,_3){this.logInfo("itemChange on: "+_1+", value now: "+_2,"editing");if(_1.name=="classSwitcher"){this.builder.switchComponentClass(_2);return true}
if(this.immediateSave||isc.isA.ExpressionItem(_1)||isc.isA.ActionMenuItem(_1)||isc.isA.CheckboxItem(_1))
{this.saveItem(_1,_2);this.builder.updateSource();return true}else{_1.$48z=true;return true}},itemKeyPress:function(_1,_2){if(_2=="Enter")this.save()},saveItem:function(_1,_2){return this.saveItems([_1],[_2])},save:function(){if(!this.validate())return;var _1=[],_2=[];for(var i=0;i<this.items.length;i++){var _4=this.items[i];if(_4.$48z){_1.add(_4);_2.add(this.getValue(_4.name));_4.$48z=false}}
var _5=this.saveItems(_1,_2);this.builder.updateSource();return _5},saveItems:function(_1,_2){if(!_1)return true;if(this.builder.formLoading!=true)this.builder.setIsDirty(true);var _3=this.currentComponent,_4={};for(var i=0;i<_1.length;i++){var _6=_1[i],_7=_2[i];_4[_6.name]=_7}
return this.saveProperties(_4,_3)},saveProperties:function(_1,_2){var _3=_2.liveObject||this.builder.projectComponents.getLiveObject(_2);this.logInfo("applying changed properties: "+this.echo(_1)+" to: "+this.echoLeaf(_3),"editing");this.builder.projectComponents.setNodeProperties(_2,_1);var _4=this.builder.getCurrentlyVisibleEditor(),_5=_2[_4.ID+"BasicMode"];if(_5==false){_2.$711=true}
return true}};isc.A.downloadDataSourceDialogTitle="Download DataSource [\${dsID}]";isc.A.downloadDataSourceDialogPrompt="Choose the format in which to export this DataSource "+"definition.  If you're making use of server capabilities, you should export to XML.";isc.A.downloadDataSourceDialogButtonTitle="Download";isc.B.push(isc.A.isDirty=function isc_VisualBuilder_isDirty(){return this.dirty}
,isc.A.setIsDirty=function isc_VisualBuilder_setIsDirty(_1){this.dirty=_1}
,isc.A.getServiceElementIcon=function isc_VisualBuilder_getServiceElementIcon(_1){var _2=_1.type;if(_2=="service"||_2=="categoryProject")return"service.png";else if(_2=="portType")return"portType.png";else if(_2=="operation")return"operation.png";else if(_2=="message_in")return"email_in.png";else if(_2=="message_out")return"email_out.png";else if(_2=="simpleType")return"page_single.png";else if(_2=="complexType")return"page_multiple.png";return null}
,isc.A.keyPress=function isc_VisualBuilder_keyPress(){if(isc.EH.getKey()=="Delete"){if(!this.editingOn)return
var _1=isc.SelectionOutline.getSelectedObject();if(_1&&_1.editContext){_1.editContext.destroyComponent(_1.editNode);isc.SelectionOutline.deselect();isc.EditContext.hideDragHandle();return false}}}
,isc.A.initWidget=function isc_VisualBuilder_initWidget(){this.Super('initWidget',arguments);isc.designTime=true;isc.Page.setEvent("mouseDown",function(){var _1=isc.EditContext.titleEditor;if(_1){var x=isc.EH.getX(),y=isc.EH.getY();var _4=_1.getPageRect();if(x>=_4[0]&&x<=_4[0]+_4[2]&&y>=_4[1]&&y<=_4[1]+_4[3])
{}else{_1.blur(_1,_1.getItem("title"))}}});if(this.defaultApplicationMode){this.editingOn=this.defaultApplicationMode.toLowerCase()=="edit"}else{this.editingOn=false}
this.paletteNodeDS=this.createAutoChild("paletteNodeDS");this.buildLibraryTree();if(this.showDataSourceList!=false){this.dsRepo=isc.DSRepo.create({});this.dsRepo.loadObjects(null,this.getID()+".addDataSources(objects, context)")}
if(!this.rootComponent){this.rootComponent={_constructor:"Canvas",autoDraw:true}}
this.rootLiveObject=isc.ClassFactory.getClass(this.rootComponent._constructor).create(this.rootComponent,{autoDraw:false,width:"100%",height:"50%"})
this.previewArea=this.rootLiveObject;var _5=this;this.globalDependencies=isc.DataSource.create({dataURL:"globalDependencies.xml",recordXPath:"//dependency",fields:[{name:"type"}],loadDependencies:function(_8){this.deps=_8;for(var i=0;i<_8.length;i++){var _7=_8[i];if(_7.type=="js"||_7.type=="css"){if(_7.url.startsWith("/")){isc.FileLoader.loadFile("../.."+_7.url)}else{isc.FileLoader.loadFile(_7.url)}}else if(_7.type=="schema"){isc.DataSource.get(_7.id,function(){})}else if(_7.type=="ui"){}}}});this.globalDependencies.fetchData(null,this.getID()+".globalDependencies.loadDependencies(data)");this.addChildren()}
,isc.A.hide=function isc_VisualBuilder_hide(){isc.SelectionOutline.deselect();this.Super("hide",arguments)}
,isc.A.clear=function isc_VisualBuilder_clear(){isc.SelectionOutline.deselect();this.Super("clear",arguments)}
,isc.A.addChildren=function isc_VisualBuilder_addChildren(){if(this.showBuilderOnly)this.showCodePane=false;this.projectComponentsMenu=this.createAutoChild("projectComponentsMenu");this.addAutoChild("libraryComponents",{data:this.libraryTree});this.addAutoChild("projectComponents",{contextMenu:this.projectComponentsMenu,rootComponent:this.rootComponent,rootLiveObject:this.rootLiveObject});this.projectTree=this.projectComponents.data;this.projectTree.observe(this.projectTree,"dataChanged",this.getID()+".updateSource()");if(this.showCodePane!=false){this.addAutoChild("codePane");this.addAutoChildren(["codePreview","jsCodePreview"]);if(this.showCodePreview!=false)
this.codePane.addTab({title:"XML Code",pane:this.codePreview,width:150,click:this.getID()+".updateSource();"});if(this.showJsCodePreview!=false)
this.codePane.addTab({title:"JS Code",pane:this.jsCodePreview,width:150,click:this.getID()+".updateSource();"})}
this.addAutoChild("componentAttributeEditor",isc.addProperties(this.commonEditorFunctions,{builder:this}));this.addAutoChild("componentMethodEditor",isc.addProperties(this.commonEditorFunctions,{canEditExpressions:this.canEditExpressions,builder:this}));this.addAutoChild("editorPane");if(this.showComponentAttributeEditor!=false)
this.editorPane.addTab({title:"Properties",pane:this.componentAttributeEditor});if(this.showComponentMethodEditor!=false)
this.editorPane.addTab({title:"Events",pane:this.componentMethodEditor});this.applyButton=this.createAutoChild("applyButton");if(this.showHelpPane!=false){this.helpPane=this.createAutoChild("helpPane",{contentsURL:this.helpPaneProperties.contentsURL})}
if(this.showLeftStack!=false){this.addAutoChild("leftStack");if(this.showEditorPane!=false){this.editorPaneButtonBar=isc.HStack.create({membersMargin:10,height:this.applyButton.height,members:[this.applyButton]});if(this.showAdvancedButton!=false){this.advancedButton=this.createAutoChild("advancedButton");this.advancedButton.setTitle(this.componentAttributeEditor.basicMode?this.componentAttributeEditor.moreTitle:this.componentAttributeEditor.lessTitle);this.editorPaneButtonBar.addMember(this.advancedButton)}
this.leftStack.addSection({title:"Component Properties",ID:"componentProperties",autoShow:true,items:[this.editorPane,this.editorPaneButtonBar]})}
if(this.showHelpPane!=false){this.leftStack.addSection({title:this.helpPaneProperties.headerTitle,autoShow:false,items:[this.helpPane]})}}
this.showMiddleStack=(this.showPreviewArea!=false||this.showProjectComponents!=false);var _1;if(this.showModeSwitcher!=false){var _2=this.createAutoChild("modeSwitcher");_2.getField("switcher").setValue(this.editingOn?"Edit":"Live");_1=[_2]}else{_1=[]}
if(this.showMiddleStack!=false){this.addAutoChild("middleStack");if(this.showPreviewArea!=false){this.middleStack.addSection({title:"Application",autoShow:true,items:[this.previewArea],controls:_1})}
if(this.showProjectComponents!=false){this.middleStack.addSection({title:"Component Tree",autoShow:true,items:[this.projectComponents]})}}
if(this.collapseComponentTree==true)this.middleStack.collapseSection(1);this.showRightStack=(this.showLibraryComponents!=false||this.showDataSourceList!=false);if(this.showRightStack!=false){this.addAutoChild("rightStack");if(this.showLibraryComponents!=false){this.rightStack.addSection({title:"Component Library",autoShow:true,items:[this.libraryComponents]})}
if(this.showDataSourceList!=false){this.addAutoChildren(["dataSourceList","dataSourceListToolbar","dsNewButton","dsEditButton"]);this.rightStack.addSection({title:"DataSources",autoShow:true,items:[this.dataSourceList,this.dataSourceListToolbar]})}}
this.addAutoChild("workspace");if(this.showLeftStack!=false)this.workspace.addMember(this.leftStack);if(this.showMiddleStack!=false)this.workspace.addMember(this.middleStack);if(this.showRightStack!=false)this.workspace.addMember(this.rightStack);if(this.showCodePane==false)this.showFileMenu=false;if(this.showFileMenu!=false){this.fileMenu=this.createAutoChild("fileMenu");this.fileMenuButton=this.createAutoChild("fileMenuButton",{menu:this.fileMenu})}
if(this.showCodePane!=false){this.addAutoChild("main",isc.addProperties(this.showFileMenu!=false?{tabBarControls:[this.fileMenuButton]}:{},{tabs:[{title:"Build",pane:this.workspace}]}));this.main.addTab({title:"Code",ID:"generatedCodeTab",pane:this.codePane})}else{}
this.initializeRepos();if(this.loadFile=="null")this.loadFile=null;if(this.saveURL=="null")this.saveURL=null}
,isc.A.initializeRepos=function isc_VisualBuilder_initializeRepos(){this.repos=isc.DataSource.create({dataURL:"viewRepos.xml",recordXPath:"//Repo",fields:[{name:"name"},{name:"title"},{name:"className"},{name:"isDefault"}]});this.repos.fetchData(null,this.getID()+".reposLoaded(data)")}
,isc.A.reposLoaded=function isc_VisualBuilder_reposLoaded(_1){var _2=this.registeredRepos=_1,_3=null,_4=this;if(this.showFileMenu)_3=this.fileMenu.getItems().find("name","saveTo");this.loadedRepos=[];_2.setProperty("menu",_3?_3.menu:this.fileMenu);_2.setProperty("click",function(_7,_6,_8){_4.saveSourceToRepo(_6.className)});for(var i=0;i<_2.length;i++){var _6=_2.get(i);if(_6.isDefault==true||_6.isDefault=="true"){this.loadRepo(_6.className,true);break}}
if(this.registeredRepos&&this.registeredRepos.length>1){_3.submenu.addList(this.registeredRepos)}else if(this.showFileMenu)this.fileMenu.removeItem(_3);if(this.loadFile&&this.loadFile.length>0)
this.projectComponents.loadView(this.loadFile);else this.newProject()}
,isc.A.loadRepo=function isc_VisualBuilder_loadRepo(_1,_2){var _3=this.registeredRepos,_4=this.loadedRepos,_5=_4.find("className",_1);if(!_5){_5=isc.ClassFactory.newInstance(_1);this.loadedRepos.add(_5)}else
if(isc.isAn.Array(_5))_5=_5[0];this.currentRepo=_5;if(_2==true)this.defaultRepo=this.currentRepo;return this.currentRepo}
,isc.A.showRepoLoadUI=function isc_VisualBuilder_showRepoLoadUI(){if(!this.currentRepo)return;if(this.projectComponents.hasComponents()){this.projectComponents.checkDiscardProject(this.getID()+".showRepoLoadUI()");return}
var _1={target:this,methodName:"loadRepoObjectReply"};this.currentRepo.showLoadUI({caller:this},_1)}
,isc.A.loadRepoObjectReply=function isc_VisualBuilder_loadRepoObjectReply(_1,_2){this.viewContext={};if(_2)this.viewContext={screenName:_2.screenName,fileName:_2.fileName};if(this.projectComponents.hasComponents())this.projectComponents.removeAll();if(this.currentRepo.objectFormat=="xml"){this.projectComponents.loadViewFromXML(_1)}else{this.projectComponents.loadViewFromJS(_1)}}
,isc.A.showRepoSaveUI=function isc_VisualBuilder_showRepoSaveUI(){if(!this.currentRepo)return;var _1={target:this,methodName:"saveRepoObjectReply"},_2=this.getUpdatedSource();if(this.currentRepo.objectFormat=="js"){this.getUpdatedJSSource(this.getID()+"getJSSourceForSave(data)")}else{this.currentRepo.showSaveUI(_2,isc.addProperties({},this.viewContext,{caller:this}),_1)}}
,isc.A.getJSSourceForSave=function isc_VisualBuilder_getJSSourceForSave(_1){var _2={target:this,methodName:"saveRepoObjectReply"},_3=_1;this.currentRepo.showSaveUI(_3,isc.addProperties({},this.viewContext,{caller:this}),_2)}
,isc.A.saveRepoObjectReply=function isc_VisualBuilder_saveRepoObjectReply(_1,_2){this.viewContext={screenName:""};if(_2)this.viewContext={screenName:_2.screenName,fileName:_2.fileName};this.projectComponents.currentScreen=this.viewContext.screenName;this.setIsDirty(false)}
,isc.A.getCurrentScreenName=function isc_VisualBuilder_getCurrentScreenName(){if(this.viewContext)return this.viewContext.screenName;return this.projectComponents.currentScreen||""}
,isc.A.editComponent=function isc_VisualBuilder_editComponent(_1,_2){if(isc.isA.DataSource(_2))return;this.setBasicMode(_1);if(this.showComponentAttributeEditor!=false){this.componentAttributeEditor.editComponent(_1,_2)}
if(this.showComponentMethodEditor!=false)
this.componentMethodEditor.editComponent(_1,_2);if(this.showComponentAttributeEditor!=false||this.showComponentMethodEditor!=false){this.applyBasicModeSettings(_1)}
if(isc.Browser.isIE&&this.editorPane.paneContainer&&this.editorPane.paneContainer.isVisible())
{this.editorPane.paneContainer.hide();this.editorPane.paneContainer.show()}
if(this.leftStack){var _3=_2;if(!_3._constructor)_3=_1;this.leftStack.setSectionTitle("componentProperties",isc.DS.getAutoId(_3)+" Properties")}
this.setComponentList()}
,isc.A.setBasicMode=function isc_VisualBuilder_setBasicMode(_1){if(!_1)return;var _2=this.getCurrentlyVisibleEditor(),_3=_2.ID+"BasicMode";if(_1[_3]==null)_1[_3]=_2.basicMode;_2.$694=_1[_3]}
,isc.A.toggleBasicMode=function isc_VisualBuilder_toggleBasicMode(_1){if(!_1)return;var _2=this.getCurrentlyVisibleEditor();_2.$694=_2.$694==null?!_2.basicMode:!_2.$694;_1[_2.ID+"BasicMode"]=_2.$694}
,isc.A.applyBasicModeSettings=function isc_VisualBuilder_applyBasicModeSettings(_1){if(!_1)return;var _2=this.getCurrentlyVisibleEditor();this.setComponentEditorButtonState(_1);this.setClassSwitcherState(_1)}
,isc.A.setComponentEditorButtonState=function isc_VisualBuilder_setComponentEditorButtonState(_1){if(!_1)return;if(this.showAdvancedButton!=false){var _2=this.getCurrentlyVisibleEditor(),_3=_1[_2.ID+"BasicMode"];if(_3){this.advancedButton.setTitle(_2.moreTitle)}else{this.advancedButton.setTitle(_2.lessTitle)}
this.advancedButton.setDisabled(false)}
this.applyButton.setDisabled(false)}
,isc.A.setClassSwitcherState=function isc_VisualBuilder_setClassSwitcherState(_1){if(this.getCurrentlyVisibleEditor()!=this.componentAttributeEditor)return;if(!this.componentAttributeEditor.canSwitchClass)return;if(!this.componentAttributeEditor.getField("classSwitcher"))return;if(!this.componentAttributeEditor.$694||_1.$711){this.componentAttributeEditor.getField("classSwitcher").setDisabled(true)}else{this.componentAttributeEditor.getField("classSwitcher").setDisabled(false)}}
,isc.A.getCurrentlyVisibleEditor=function isc_VisualBuilder_getCurrentlyVisibleEditor(){if(this.editorPane.selectedEditorName()==this.editorPane.PROPERTIES){return this.componentAttributeEditor}
return this.componentMethodEditor}
,isc.A.saveComponentEditors=function isc_VisualBuilder_saveComponentEditors(){if(this.componentMethodEditor)this.componentMethodEditor.save();if(this.componentAttributeEditor)this.componentAttributeEditor.save()}
,isc.A.getCurrentComponent=function isc_VisualBuilder_getCurrentComponent(){return this.componentAttributeEditor?this.componentAttributeEditor.currentComponent:this.componentMethodEditor?this.componentMethodEditor.currentComponent:null}
,isc.A.setComponentList=function isc_VisualBuilder_setComponentList(){var _1=this.projectComponents,_2=_1.data.getDescendants(_1.data.getRoot());if(this.componentMethodEditor)this.componentMethodEditor.allComponents=_2;if(this.componentAttributeEditor)this.componentAttributeEditor.allComponents=_2}
,isc.A.componentAdded=function isc_VisualBuilder_componentAdded(){this.setComponentList();if(this.formLoading!=true)this.setIsDirty(true)}
,isc.A.componentRemoved=function isc_VisualBuilder_componentRemoved(_1){var _2=this.getCurrentComponent();if(_2==_1)this.clearComponent();this.setComponentList();if(this.formLoading!=true)this.setIsDirty(true)}
,isc.A.clearComponent=function isc_VisualBuilder_clearComponent(){if(this.componentAttributeEditor)this.componentAttributeEditor.clearComponent();if(this.componentMethodEditor)this.componentMethodEditor.clearComponent();if(this.leftStack){this.leftStack.setSectionTitle("componentProperties","Component Properties");if(this.applyButton)this.applyButton.setDisabled(true);if(this.advancedButton)this.advancedButton.setDisabled(true)}}
);isc.evalBoundary;isc.B.push(isc.A.switchComponentClass=function isc_VisualBuilder_switchComponentClass(_1){var _2=this.getCurrentComponent(),_3=this.projectComponents.data,_4=_3.getParent(_2),_5=_3.getChildren(_4).indexOf(_2);var _6=this.projectComponents.makeEditNode({type:_1,defaults:_2.initData});this.projectComponents.removeComponent(_2);_6=this.projectComponents.addComponent(_6,_4,_5);if(_6&&_6.liveObject){isc.EditContext.selectCanvasOrFormItem(_6.liveObject,true)}}
,isc.A.getCustomComponentsURL=function isc_VisualBuilder_getCustomComponentsURL(){return"customComponents.xml"}
,isc.A.buildLibraryTree=function isc_VisualBuilder_buildLibraryTree(){this.libraryTree=isc.Tree.create();this.paletteNodeDS.dataURL=this.getCustomComponentsURL();this.paletteNodeDS.fetchData({},this.getID()+".fetchLibraryComponentsReply(data)");this.paletteNodeDS.dataURL="defaultComponents.xml";this.paletteNodeDS.fetchData({},this.getID()+".fetchLibraryComponentsReply(data); "+this.getID()+".openLibraryTree()")}
,isc.A.fetchLibraryComponentsReply=function isc_VisualBuilder_fetchLibraryComponentsReply(_1){this.libraryTree.addList(_1,this.libraryTree.getRoot())}
,isc.A.openLibraryTree=function isc_VisualBuilder_openLibraryTree(){var _1=this.libraryTree;_1.openFolders(_1.getChildren(_1.getRoot()));var _2=_1.findAll("isClosed","true");if(_2&&_2.length)_1.closeFolders(_2)}
,isc.A.addDataSources=function isc_VisualBuilder_addDataSources(_1,_2){var _3=_1,_4=[],_5;for(var i=0;i<_3.length;i++){var _7=_3[i];_5=this.projectComponents.makeDSPaletteNode(_7.dsName,_7.dsType);_4.add(_5)}
if(this.dataSourceList)this.dataSourceList.setData(_4)}
,isc.A.addDataSource=function isc_VisualBuilder_addDataSource(_1){if(this.dsEditorWindow){this.dsEditorWindow.hide();if(_1.serverType=="sql"||_1.serverType=="hibernate"){if(this.dsWizard!=null){var _2=this.dsWizard.dsTypeRecord,_3=_2.wizardDefaults,_4=_3?_3.existingTable=="true":false;if(!_4)
{var _5="http://"+window.location.host+"/tools/adminConsole.jsp";isc.say("To generate or regenerate SQL tables for this DataSource, use the "+"<a target=_blank href='"+_5+"'>Admin Console</a> or the "+"<i>DataSources</i> tab in the Developer Console")}}}}
var _6=_1.serviceNamespace?"webService":_1.serverType||_1.dataFormat,_7=this.projectComponents.makeDSPaletteNode(_1.ID,_6);var _8=this.dataSourceList.data,_9=_8.findIndex("ID",_1.ID);if(_9==-1){_8.addAt(_7,0)}else{_8.set(_9,_7)}}
,isc.A.newProject=function isc_VisualBuilder_newProject(){isc.EditContext.deselect();this.projectComponents.removeAll();delete this.projectComponents.currentScreen;this.viewContext={};if(this.initialComponent){var _1=isc.HiddenPalette.create().makeNewComponent(this.initialComponent);this.projectComponents.addComponent(_1)}}
,isc.A.updateSource=function isc_VisualBuilder_updateSource(_1){if(this.showCodePane==false||!this.main)return;if(!_1&&this.main.getSelectedTabNumber()!=1)return;var _2=this.getUpdatedSource();if(!_2)return;if(this.codePreview)this.codePreview.setValue("codeField",_2);if(this.jsCodePreview&&this.codePane.isDrawn()&&this.codePane.getSelectedTab().pane==this.jsCodePreview)
{isc.xml.toJSCode(_2,this.getID()+".jsCodePreview.setContents(data)")}}
,isc.A.getUpdatedJSSource=function isc_VisualBuilder_getUpdatedJSSource(_1){isc.xml.toJSCode(this.getUpdatedSource(),_1)}
,isc.A.getUpdatedSource=function isc_VisualBuilder_getUpdatedSource(){return this.projectComponents.serializeComponents()}
,isc.A.saveSourceToRepo=function isc_VisualBuilder_saveSourceToRepo(_1,_2,_3){if(!_1)_1=this.currentRepo;if(!_1)return;if(isc.isA.String(_1))_1=this.loadRepo(_1);else this.currentRepo=_1;this.viewContext=isc.addProperties({},{screenName:this.getCurrentScreenName()},this.viewContext,_2);if(!_3)_3={target:this,methodName:"saveRepoObjectReply"};this.saveSource(this.viewContext.screenName,_3)}
,isc.A.saveSource=function isc_VisualBuilder_saveSource(_1,_2){var _3=this,_4=_3.getUpdatedSource(),_5=isc.addProperties({},this.viewContext,{caller:this});this.currentRepo.showSaveUI(_4,_5,_2)}
,isc.A.downloadDataSource=function isc_VisualBuilder_downloadDataSource(_1){var _2=this;var _3=this.downloadDataSourceDialogTitle.evalDynamicString(this,{dsID:_1.ID}),_4=this.downloadDataSourceDialogPrompt,_5=this.downloadDataSourceDialogButtonTitle;this.downloadDataSourceDialog=isc.Window.create({title:_3,width:300,height:160,isModal:true,showModalMask:true,autoCenter:true,padding:8,items:[isc.Label.create({width:"100%",padding:8,contents:_4}),isc.DynamicForm.create({width:"100%",numCols:3,items:[{name:"formatType",title:"Format",type:"select",width:"*",defaultValue:"XML",valueMap:["XML","JavaScript"]},{name:"downloadButton",title:_5,type:"button",startRow:false,click:function(){_2.continueDSDownload(_1,this.form.getValue("formatType"))}}]})]});this.downloadDataSourceDialog.show()}
,isc.A.continueDSDownload=function isc_VisualBuilder_continueDSDownload(_1,_2){this.downloadDataSourceDialog.hide();this.downloadDataSourceDialog.markForDestroy();var _3=this,_4=_1.getClassName(),_5;if(isc.DS.isRegistered(_4)){_5=isc.DS.get(_4)}else{_5=isc.DS.get("DataSource");_1._constructor=_4}
var _6=_5.xmlSerialize(_1);if(_2=="XML"){_3.downloadDataSourceReply(_1,_2,_6)}else{isc.XMLTools.toJSCode(_6,function(_7){_3.downloadDataSourceReply(_1,_2,_7.data)})}}
,isc.A.downloadDataSourceReply=function isc_VisualBuilder_downloadDataSourceReply(_1,_2,_3){var _4=_1.ID+".ds."+(_2=="XML"?"xml":"js"),_5=(_2=="XML"?"text/xml":"application/json");isc.DMI.callBuiltin({methodName:"downloadClientContent",arguments:[_3,_4,_5],requestParams:{showPrompt:false,useXmlHttpRequest:false,timeout:0}})}
,isc.A.showDSWizard=function isc_VisualBuilder_showDSWizard(){if(this.wizardWindow)return this.wizardWindow.show();var _1=this;this.wizardWindow=isc.Window.create({title:"DataSource Wizard",autoCenter:true,width:"85%",height:"85%",builder:_1,closeClick:function(){this.Super("closeClick",arguments);_1.dsWizard.resetWizard()},items:[_1.dsWizard=isc.DSWizard.create({callingBuilder:_1})]})}
,isc.A.showDSEditor=function isc_VisualBuilder_showDSEditor(_1,_2,_3){var _4=this,_5={target:_4,methodName:"addDataSource"}
this.makeDSEditor();if(_2)this.dsEditor.editNew(_1,_5,_3);else this.dsEditor.editSaved(_1,_5,_3);this.dsEditorWindow.show()}
,isc.A.makeDSEditor=function isc_VisualBuilder_makeDSEditor(){if(this.dsEditorWindow)return;var _1=this;if(!this.dsEditor){this.dsEditor=isc.DataSourceEditor.create({dataSource:"DataSource",width:"100%",height:"80%",autoDraw:false,canAddChildSchema:true,canEditChildSchema:true,builder:_1,mainStackProperties:{_constructor:"TSectionStack"},instructionsProperties:{_constructor:"THTMLFlow"},mainEditorProperties:{_constructor:"TComponentEditor",formConstructor:isc.TComponentEditor},fieldLayoutProperties:{_constructor:"TLayout"},getUniqueDataSourceID:function(){var _2,i=0;while(_2==null){_2="dataSource"+i;if(_1.dataSourceList.data.find("ID",_2)){_2=null;i++}}
return _2}})}
this.dsEditorWindow=isc.TWindow.create({title:"DataSource Editor",autoDraw:true,builder:this,isModal:true,autoCenter:true,width:"85%",height:"85%",canDragResize:true,items:[this.dsEditor]})}
,isc.A.hideRightMostResizeBar=function isc_VisualBuilder_hideRightMostResizeBar(){this.workspace.getMember(this.workspace.getMembers().length-1).showResizeBar=false}
,isc.A.addOperation=function isc_VisualBuilder_addOperation(){if(!this.schemaWindow){this.schemaWindow=isc.TWindow.create({title:this.schemaWindowTitle||"Webservice Operations",autoCenter:true,autoDraw:false,width:Math.round(this.width*.6),height:Math.round(this.height*.9),items:[this.addAutoChild("schemaViewer"),this.addAutoChild("schemaViewerSelectButton")]})}
this.getOperationsTreeData(this.getID()+".addOperationReply(data)")}
,isc.A.addOperationReply=function isc_VisualBuilder_addOperationReply(_1){this.schemaViewer.setData(isc.Tree.create({modelType:"children",root:_1,nameProperty:"name",childrenProperty:"children"}));this.schemaViewer.getData().openAll();this.schemaWindow.show()}
,isc.A.operationSelected=function isc_VisualBuilder_operationSelected(){var _1=this.schemaViewer.data,_2=this.schemaViewer.getSelectedRecord();if(_2!=null){if(_2.type=="service")_2=_1.getChildren(_2)[0];if(_2.type=="portType")_2=_1.getChildren(_2)[0];var _3=_1.getParent(_2);var _4=_1.getParent(_3);var _5=_2.location||_3.location||_4.location;var _6=this.projectComponents.data;_5=this.getOperationWSDLLocation(_5);var _7=this;this.loadWebService(_5,_4.name,_3.name,_2.name)}}
,isc.A.getOperationWSDLLocation=function isc_VisualBuilder_getOperationWSDLLocation(_1){return _1}
,isc.A.loadWebService=function isc_VisualBuilder_loadWebService(_1,_2,_3,_4){var _5=this;isc.xml.loadWSDL(_1,function(_6){_5.newServiceLoaded(_6,_2,_3,_4,_1)},null,true)}
,isc.A.newServiceLoaded=function isc_VisualBuilder_newServiceLoaded(_1,_2,_3,_4,_5){var _6={operationName:_4,serviceNamespace:_1.serviceNamespace,serviceName:_1.name,serviceDescription:_2,portTypeName:_3,location:_5}
this.addWebService(_1,_6);this.schemaWindow.hide()}
,isc.A.getOperationsTreeData=function isc_VisualBuilder_getOperationsTreeData(){var _1=this.operationsPalette,_2=_1?_1.data:null,_3=_2?_2.getChildren(_2.getRoot()):null;return _3}
,isc.A.trimOperationsTreeData=function isc_VisualBuilder_trimOperationsTreeData(_1,_2){if(!_1)return null;var _3=_2?"message_in":"message_out",_4=isc.addProperties({},_1),_5=false;while(!_5){var _6=_4.find("type",_3);if(_6){_4.remove(_6)}else _5=true}
return _4}
,isc.A.addWebService=function isc_VisualBuilder_addWebService(_1,_2){var _3={};_3.webService=_1;_3.inputSchema=_1.getRequestMessage(_2.operationName);_3.outputSchema=_1.getResponseMessage(_2.operationName);_2.inputSchema=_3.inputSchema;_2.outputSchema=_3.outputSchema;var _4=this.addServiceOperation(_2);var _5=this.getComplexOperationsPaletteTreeData(),_6="|"+_2.serviceDescription+"|"+_2.portTypeName+"|"+_2.operationName,_7;if(this.operationsPalette.getData()){_7=isc.Tree.create({root:this.operationsPalette.getData().getRoot()})}else{_7=isc.Tree.create({})}
_5.pathDelim="|";_7.pathDelim="|";if(_7.find(_6)){this.logWarn("Attempting to add webservice operation that is already in the tree");this.schemaWindow.hide();return}
var _8;if(_4){_8={name:_2.operationName,type:"operation",className:"IButton",defaults:{title:"Invoke "+_2.operationName,autoFit:true,click:{target:_4.liveObject.ID,name:"invoke",title:"Invoke "+_2.operationName}}}}else{_8={name:_2.operationName,type:"operation",canDrag:false}}
_6="|"+_2.serviceDescription+"|"+_2.portTypeName;var _9=_7.find(_6)
var _10=false;if(_9){_7.add(_8,_9);_10=true}else{_6="|"+_2.serviceDescription
var _9=_7.find(_6)
var _10=false;if(_9){_7.add({name:_2.portTypeName,type:"portType",canDrag:false,children:[_8]},_9);_10=true}else{var _11={name:_2.serviceDescription,type:"service",canDrag:false,children:[{name:_2.portTypeName,type:"portType",canDrag:false,children:[_8]}]}}
_5.children.add(_11);this.operationsPalette.setData(isc.Tree.create({modelType:"children",root:_5,nameProperty:"name",childrenProperty:"children"}))}
this.operationsPalette.setData(_7);var _6="|"+_2.serviceDescription+"|"+_2.portTypeName+"|"+_2.operationName,_9=_7.find(_6);var _12={palette:this.operationsPalette,isOutput:false,operation:_2.operationName,serviceName:_2.serviceName,serviceNamespace:_2.serviceNamespace};if(_3.inputSchema){this.setSchema(_3.inputSchema,_9,null,"",_12)}
if(_3.outputSchema){_12.isOutput=true;this.setSchema(_3.outputSchema,_9,null,"",_12)}
this.operationsPalette.getData().openAll()}
,isc.A.addServiceOperation=function isc_VisualBuilder_addServiceOperation(_1){var _2,_3;if(_1.inputSchema){_2={className:"ValuesManager",defaults:{parentProperty:"inputVM",dataSource:_1.inputSchema.ID,serviceName:_1.serviceName,serviceNamespace:_1.serviceNamespace}}}
if(_1.outputSchema){_3={className:"ValuesManager",defaults:{parentProperty:"outputVM",dataSource:_1.outputSchema.ID,serviceName:_1.serviceName,serviceNamespace:_1.serviceNamespace}}}
var _4={className:"ServiceOperation",defaults:{operationName:_1.operationName,serviceNamespace:_1.serviceNamespace,serviceName:_1.serviceName,serviceDescription:_1.serviceDescription,portTypeName:_1.portTypeName,location:_1.location}};var _5=this.projectComponents;var _6=_5.makeEditNode(_4);_5.addComponent(_6);if(_2)_5.addComponent(_5.makeEditNode(_2),_6,null,"inputVM");if(_3)_5.addComponent(_5.makeEditNode(_3),_6,null,"outputVM");return _6}
,isc.A.shouldShowDataPathFields=function isc_VisualBuilder_shouldShowDataPathFields(){return this.operationsPalette?true:false}
,isc.A.getComplexOperationsPaletteTreeData=function isc_VisualBuilder_getComplexOperationsPaletteTreeData(){if(!this.operationsPalette||!this.operationsPalette.data)return{children:[]};var _1=this.operationsPalette.data,_2=_1.getChildren(_1.getRoot());return{children:_2}}
,isc.A.setSchema=function isc_VisualBuilder_setSchema(_1,_2,_3,_4,_5){var _6=_5.populateTarget&&this.targetContext!=null;var _7=_1.getFieldNames();for(var i=0;i<_7.length;i++){var _9=_7[i],_10=_1.getField(_9),_11=_1.fieldIsComplexType(_9),_12;var _13=this.getFieldPaletteNode(_1,_9,_4,_5);var _14=_5.palette.data;_14.add(_13,_2||_14.getRoot());if(_6&&_3&&_3.type==this.complexTypeNodeConstructor){var _15=null;if(_11){var _16={};isc.addProperties(_16,this.canvasItemWrapperDefaults);isc.addProperties(_16,this.canvasItemWrapperProperties);_15=_5.palette.makeEditNode({className:this.canvasItemWrapperConstructor,defaults:_16});this.targetContext.addNode(_15,_3)}
var _17=_5.palette.makeEditNode(_13);this.targetContext.addNode(_17,_15||_3);if(isc.EditContext)isc.EditContext.clearSchemaProperties(_17)}
if(_11){var _18=_1.getSchema(_10.type);this.setSchema(_18,_13,_17,(_4?_4+"/":"")+_9,_5)}}}
,isc.A.getFieldPaletteNode=function isc_VisualBuilder_getFieldPaletteNode(_1,_2,_3,_4){var _5=_1.fieldIsComplexType(_2),_6=_1.getField(_2),_7=_4.isOutput,_8=_4.displayOnly!=null?_4.displayOnly:_7,_9=this.getSchemaDataSourceIDs(_4.operation,_4.serviceName,_4.serviceNamespace),_10={schemaDataSource:_7?_9.output:_9.input,serviceNamespace:_4.serviceNamespace,serviceName:_4.serviceName,isComplexType:_5,type:_5?"complexType":"simpleType"},_11=isc.DataSource.getAutoTitle(_2),_12={name:_2,defaults:_10},_13=(_3?_3+"/":"")+_2;_10.dataPath=_13;if(_8){_10.inputDataPath=_13;_10.inputSchemaDataSource=_10.schemaDataSource;_10.inputServiceNamespace=_10.serviceNamespace;_10.inputServiceName=_10.serviceName}
if(_8)_10.canEdit=false;var _14,_15=_6.xmlMaxOccurs;if(_15=="unbounded")_15=1000;if(!_5){_12=this.getSimpleTypeNode(_12,_8,_11)}else{_10.dataSource=_10.schemaDataSource;delete _10.schemaDataSource;if(_15==null||_15<=1){_12=this.getComplexTypeNode(_12,_8,_11)}else{_12=this.getRepeatingComplexTypeNode(_12,_15,_8,_1,_6.type,_11)}}
_12.title=_10.title;_12.type=_10.type;return _12}
,isc.A.getSimpleTypeNode=function isc_VisualBuilder_getSimpleTypeNode(_1,_2,_3){_1.className=this.simpleTypeNodeConstructor;_1.defaults.title=_3;isc.addProperties(_1.defaults,this.simpleTypeNodeDefaults);isc.addProperties(_1.defaults,this.simpleTypeNodeProperties);return _1}
,isc.A.getComplexTypeNode=function isc_VisualBuilder_getComplexTypeNode(_1,_2,_3){_1.className=this.complexTypeNodeConstructor;delete _1.defaults.dataPath;delete _1.defaults.inputDataPath;_1.defaults.groupTitle=_3;isc.addProperties(_1.defaults,this.complexTypeNodeDefaults);isc.addProperties(_1.defaults,this.complexTypeNodeProperties);return _1}
,isc.A.getRepeatingComplexTypeNode=function isc_VisualBuilder_getRepeatingComplexTypeNode(_1,_2,_3,_4,_5,_6){if(_2<5&&_3){_1.className="DetailViewer"}else{_1.className=(_3?"ListGrid":"LineEditor")}
var _7=_4.getSchema(_5);var _8=_3?"inputDataPath":"dataPath";if(_3){_1.defaults.height=80;_1.defaults.autoFitMaxRecords=10;_1.defaults.canDragSelectText=true}else{_1.defaults.saveLocally=true}
var _9=_7.getFlattenedFields(null,_1.defaults.dataPath,_8);_9=isc.getValues(_9);_9=isc.applyMask(_9,["name","title","dataPath","inputDataPath"]);_1.defaults.defaultFields=_9;isc.addProperties(_1.defaults,this.repeatingComplexTypeNodeDefaults);isc.addProperties(_1.defaults,this.repeatingComplexTypeNodeProperties);return _1}
,isc.A.getSchemaDataSourceIDs=function isc_VisualBuilder_getSchemaDataSourceIDs(_1,_2,_3){var _4={};var _5=isc.ServiceOperation.getServiceOperation(_1,_2,_3);if(_5){if(_5.inputVM){_4.input=isc.DataSource.get(_5.inputVM.dataSource).ID}
if(_5.outputVM){_4.output=isc.DataSource.get(_5.outputVM.dataSource).ID}}
return _4}
);isc.B._maxIndex=isc.C+68;isc.defineClass("ActionMenu","Menu");isc.A=isc.ActionMenu.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$50a=["string","number","boolean","object","array"];isc.B.push(isc.A.initWidget=function isc_ActionMenu_initWidget(){this.setComponents(this.components);this.Super("initWidget",arguments)}
,isc.A.setComponents=function isc_ActionMenu_setComponents(_1){var _2=[];if(!_1)_1=[];for(var i=0;i<_1.length;i++){var _4=_1[i],_5={component:_4,icon:_4.icon,title:_4.liveObject.getActionTargetTitle?_4.liveObject.getActionTargetTitle():_4.ID+" ("+_4.type+")"};var _6=isc.jsdoc.getActions(_4.type);if(_6){_5.submenu=this.getActionsMenu(_4,_6);_2.add(_5)}}
_2.add({title:"[None]",click:this.getID()+".clearAction()",icon:"[SKINIMG]/actions/cancel.png"})
this.setData(_2)}
,isc.A.rowOver=function isc_ActionMenu_rowOver(_1){this.Super("rowOver",arguments);var _2=_1.component;if(_2&&_2.liveObject)isc.SelectionOutline.select(_2.liveObject);else isc.SelectionOutline.deselect();this.bringToFront()}
,isc.A.getActionsMenu=function isc_ActionMenu_getActionsMenu(_1,_2){var _3=[];for(var i=0;i<_2.length;i++){var _5=_2[i],_6={title:_5.title,icon:_5.icon,component:_1,targetAction:_5,click:this.getID()+".bindAction(item.component, item.targetAction)"}
_3.add(_6)}
return _3}
,isc.A.getInheritedMethod=function isc_ActionMenu_getInheritedMethod(_1,_2){while(_1){var _3=isc.jsdoc.getDocItem("method:"+_1+"."+_2);if(_3!=null)return _3;var _4=isc.DS.get(_1);if(_4&&_4.methods){var _5=_4.methods.find("name",_2);if(_5)return _5}
var _6=isc.ClassFactory.getClass(_1);if(_6==null)return null;_6=_6.getSuperClass();if(_6==null)return null;_1=_6.getClassName()}}
,isc.A.bindAction=function isc_ActionMenu_bindAction(_1,_2){var _3=this.sourceComponent,_4=this.getInheritedMethod(_3.type,this.sourceMethod),_5=isc.isAn.XMLNode(_4)?isc.jsdoc.toJS(_4):_4;if(this.logIsDebugEnabled("actionBinding")){this.logDebug("bindAction: component "+_1.ID+", sourceMethod: "+this.echoFull(_5)+", action method: "+this.echoFull(_2),"actionBinding")}
var _6={title:_2.title,target:_1.ID,name:_2.name};var _7;if(_2.params){var _8=[],_9=false;_7=_5.params;if(!_7)_7=[];else if(!isc.isAn.Array(_7))_7=[_7];else _7=_7.duplicate();_7.add({name:"this",type:this.sourceComponent.type});for(var i=0;i<_2.params.length;i++){var _11=_2.params[i];this.logInfo("considering actionMethod "+_2.name+" param: "+_11.name+" of type "+_11.type,"actionBinding");var _12=_11.optional!=null&&_11.optional.toString()!="false";if(!_12||_11.type!=null&&!this.$50a.contains(_11.type.toLowerCase()))
{var _13=this.getMatchingSourceParam(_11,_7);if(_13!=null){_8[i]=_13.name;_13.$480=true;_9=true;continue}else if(!_12){this.logInfo("action binding failed, actionMethod param "+_11.name+" of type "+_11.type+" couldn't be fulfilled","actionBinding");isc.say("Visual Builder couldn't find an automatic binding from event "+_5.name+" to action "+(_2.title||_2.name));return null}}
_8[i]="null"}
if(_9)_6.mapping=_8}
if(this.logIsInfoEnabled("actionBinding")){this.logWarn("generated binding: "+this.echoFull(_6),"actionBinding")}
if(_7)_7.setProperty("$480",null);this.bindingComplete(_6)}
,isc.A.bindingComplete=function isc_ActionMenu_bindingComplete(_1){}
,isc.A.clearAction=function isc_ActionMenu_clearAction(){var _1=null;this.bindingComplete(_1)}
,isc.A.getMatchingSourceParam=function isc_ActionMenu_getMatchingSourceParam(_1,_2){var _3=this.getFirstType(_1.type);var _4=isc.DS.get(_3);this.logInfo("selected type "+_3+" has schema: "+_4,"actionBinding");for(var i=0;i<_2.length;i++){var _6=_2[i];if(_6.$480)continue;this.logDebug("considering source param: "+_6.name+" of type "+_6.type,"actionBinding");var _7=this.getFirstType(_6.type);var _8=isc.DS.get(_7);if(!_8){if(_3==_7)return _6;continue}
if(_8.inheritsSchema(_4)){return _6}}}
,isc.A.getFirstType=function isc_ActionMenu_getFirstType(_1){_1=_1.split(/[ \t]+/)[0];_1=_1.substring(0,1).toUpperCase()+_1.substring(1);return _1}
);isc.B._maxIndex=isc.C+10;isc.A=isc.jsdoc;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.getActions=function isc_c_jsdoc_getActions(_1){var _2=isc.DS.get(_1);if(_2==null)return null;var _3;while(_2!=null){var _4=_2.methods?_2.methods.findAll("action",true):null;if(_4==null){if(_2.showSuperClassActions==false)break;_2=_2.superDS();continue}
for(var i=0;i<_4.length;i++){var _6=_4[i],_7=isc.jsdoc.getDocItem("method:"+_2.ID+"."+_6.name),_8=_7?isc.jsdoc.toJS(_7):_6;if(_3==null)_3=[];_3.add(isc.addProperties({},_8,_6));var _9=_3[i].params;if(_9!=null&&!isc.isAn.Array(_9))_3[i].params=[_9]}
if(_2.showSuperClassActions==false)break;_2=_2.superDS()}
return _3}
);isc.B._maxIndex=isc.C+1;isc._moduleEnd=isc._VisualBuilder_end=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc.Log&&isc.Log.logIsInfoEnabled('loadTime'))isc.Log.logInfo('VisualBuilder module init time: ' + (isc._moduleEnd-isc._moduleStart) + 'ms','loadTime');delete isc.definingFramework;}else{if(window.isc && isc.Log && isc.Log.logWarn)isc.Log.logWarn("Duplicate load of module 'VisualBuilder'.");}

/*

  SmartClient Ajax RIA system
  Version SC_SNAPSHOT-2010-08-03/EVAL Development Only (2010-08-03)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF
     ISOMORPHIC SOFTWARE LICENSE TERMS. If you have received this file
     without an accompanying Isomorphic Software license file, please
     contact licensing@isomorphic.com for details. Unauthorized copying and
     use of this software is a violation of international copyright law.

  DEVELOPMENT ONLY - DO NOT DEPLOY
     This software is provided for evaluation, training, and development
     purposes only. It may include supplementary components that are not
     licensed for deployment. The separate DEPLOY package for this release
     contains SmartClient components that are licensed for deployment.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. You are expressly prohibited
     from attempting to reverse engineer this software or modify this
     software for human readability.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

